---
title: "p8105_hw2_sl4655"
author: "Shuya Liu"
date: "October 2, 2019"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
```

# _Problem 1_

### Read and clean the Mr. Trash Wheel sheet

```{r trash_wheel_data_input, eval = FALSE}
## Read in Mr. Trash Wheel data
trash_wheel_data <- 
  readxl::read_excel(path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
                     sheet = "Mr. Trash Wheel") %>%
  janitor::clean_names() %>%
  select(dumpster:homes_powered) %>%
  drop_na(dumpster) %>%
  mutate(sports_balls = round(sports_balls) %>% as.integer())
```

### Read and clean precipitation data for 2017 and 2018

```{r precipitaion}
precip_2017_data <- 
  readxl::read_excel(path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
                     sheet = "2017 Precipitation",
                     range = "A2:B14") %>%
  janitor::clean_names() %>%
  drop_na(total) %>%
  arrange(month) %>%
  mutate(year = 2017, month = month.name)

precip_2018_data <-
  readxl::read_excel(path = "./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx",
                     sheet = "2018 Precipitation",
                     range = "A2:B14") %>%
  janitor::clean_names() %>%
  drop_na(total) %>%
  arrange(month) %>%
  mutate(year = 2018, month = month.name)
```

### Combine precipitation datasets

```{r combine}
precip_combine_data <-
  rbind(precip_2017_data, precip_2018_data) %>%
  select(year, month, precipitation = total)
```

##### Descriptive Statistics

```{r}
total_2017 = sum(with(precip_combine_data, subset(precipitation, year == 2017)))
total_2018 = sum(with(precip_combine_data, subset(precipitation, year == 2018)))
min_2017 = min(with(precip_combine_data, subset(precipitation, year == 2017)))
min_2018 = min(with(precip_combine_data, subset(precipitation, year == 2018)))
max_2017 = max(with(precip_combine_data, subset(precipitation, year == 2017)))
max_2018 = max(with(precip_combine_data, subset(precipitation, year == 2018)))
```

* **For precipitation data**:

The total precipitation for year 2017 is `r total_2017`(in). The total precipitation for year 2018 is `r total_2018`(in). The difference is `r total_2018 - total_2017`(in). In year 2017, the smallest amount of precipitation `r min_2017`(in) occurred in `r with(precip_combine_data, subset(month, precipitation == min_2017))`, and the largest amount of precipitation `r max_2017`(in) occurred in `r with(precip_combine_data, subset(month, precipitation == max_2017))`. In year 2018, the smallest amount of precipitation `r min_2018`(in) occurred in `r with(precip_combine_data, subset(month, precipitation == min_2018))`, and the largest amount of precipitation `r max_2018`(in) occurred in `r with(precip_combine_data, subset(month, precipitation == max_2018))`.


* **For Mr. Trash Wheel data**:
